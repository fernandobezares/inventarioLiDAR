/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var corine = ee.ImageCollection("COPERNICUS/CORINE/V20/100m");
/***** End of imports. If edited, may not auto-convert in the playground. *****/

// image Corine 2000
var corine2000 = corine.filterDate('1999-01-01','2001-02-02');


// get only forests 
var c20Forest = corine2000.first().eq(311);


//palette 
var corinePalette = corine2000.first().get('landcover_class_palette').getInfo();

// get the landcover names 
var corineClassNames = corine2000.first().get('landcover_class_names').getInfo()


// get elements length from the landcover palette
var elements = ee.List(corinePalette).length().getInfo();







// set position of panel
var legend = ui.Panel({
  layout: ui.Panel.Layout.Flow('vertical'),
  style: {
    position: 'bottom-left',
    padding: '8px 15px',
    height :'300px',
    width : '600px'
  }
});
 
// Create legend title
var legendTitle = ui.Label({
  value: 'Corine LandCover Classes',
  style: {
    fontWeight: 'bold',
    fontSize: '18px',
    margin: '0 0 4px 0',
    padding: '0'
    }
});
 
// Add the title to the panel
legend.add(legendTitle);
 
// Creates and styles 1 row of the legend.
var makeRow = function(color, name) {
 
      // Create the label that is actually the colored box.
      var colorBox = ui.Label({
        style: {
          backgroundColor: '#' + color,
          // Use padding to give the box height and width.
          padding: '8px',
          margin: '0 0 4px 0'
        }
      });
 
      // Create the label filled with the description text.
      var description = ui.Label({
        value: name,
        style: {margin: '0 0 4px 6px'}
      });
 
      // return the panel
      return ui.Panel({
        widgets: [colorBox, description],
        layout: ui.Panel.Layout.Flow('horizontal')
      });
};
 

// create a legend for the palette 

for (var i = 0; i < elements; i++){
  
  legend.add(makeRow(corinePalette[i], corineClassNames[i]));
  
}




// print the dataset with
Map.add(legend) 
Map.addLayer(corine2000.first(),{min: 111, max :523, palette : corinePalette },'Land Cover Corine 2000');
Map.addLayer(c20Forest.updateMask(c20Forest.eq(1)),{min:0,max:1},'Forest and semi natural areas; forests; broad-leaved forest')